(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{152:function(t,e,n){t.exports=n(165)},165:function(t,e,n){"use strict";n.r(e);var r=n(12),a=n(0),o=n.n(a),c=n(11),i=n.n(c),u=n(117),l=n(18),s=n(24),f=n(34),d=n(39),p=n(35),h=n(8);function m(){var t=Object(r.a)(["\n            margin-left: ",";\n        "]);return m=function(){return t},t}function g(){var t=Object(r.a)(["\n            border-bottom: 4px solid ",";\n        "]);return g=function(){return t},t}function b(){var t=Object(r.a)(["\n            display: inline-block;\n            line-height: calc(60px - 4px);\n            flex: 0 0 auto;\n            margin-right: ",";\n            color: ",";\n            font-family: ",";\n            font-size:$ ",";\n            cursor: pointer;\n            border-bottom: 4px solid transparent;\n\n            transition-duration:0.2s;\n            :link {\n                text-decoration: none;\n            }\n            :hover {\n                border-bottom: 4px solid ",";\n            }\n            :active {\n                border-bottom: 4px solid ",";\n            }\n        "]);return b=function(){return t},t}function v(){var t=Object(r.a)(["\n            flex: 0 0 auto;\n        "]);return v=function(){return t},t}function j(){var t=Object(r.a)(["\n            justify-content: end;\n        "]);return j=function(){return t},t}function O(){var t=Object(r.a)(["\n            justify-content: center;\n        "]);return O=function(){return t},t}function w(){var t=Object(r.a)(["\n            justify-content: start;\n        "]);return w=function(){return t},t}function y(){var t=Object(r.a)(["\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        "]);return y=function(){return t},t}function E(){var t=Object(r.a)(["\n            position: relative;\n            z-index:1;\n            width:100%;\n            background-color: ",";\n            color: ",";\n\n            box-shadow: ",";\n        "]);return E=function(){return t},t}var x=function(t){Object(p.a)(n,t);var e=Object(d.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var t=h.c.nav(E(),(function(t){return t.theme.fg}),(function(t){return t.theme.secondary}),(function(t){return t.theme.shadow_nav})),e=h.c.div(y()),n=Object(h.c)(e)(w()),r=Object(h.c)(e)(O()),a=Object(h.c)(e)(j()),c=Object(h.c)(e)(v()),i=h.c.a(b(),(function(t){return t.theme.spc_2}),(function(t){return t.theme.primary}),(function(t){return t.theme.fam_rale}),(function(t){return t.theme.spc_3}),(function(t){return t.theme.secondary}),(function(t){return t.theme.secondary})),u=Object(h.c)(i)(g(),(function(t){return t.theme.secondary})),l=Object(h.c)(i)(m(),(function(t){return t.theme.spc_4}));return o.a.createElement(t,null,o.a.createElement(e,null,o.a.createElement(n,null,o.a.createElement(l,null,"TWIST")),o.a.createElement(r,null,o.a.createElement(c,null,o.a.createElement(u,{href:"/"},"EXPLORE"),o.a.createElement(i,{href:"/guide"},"GUIDE"))),o.a.createElement(a,null,o.a.createElement(i,{href:"https://github.com/type9/brew-v2"},"GIT"))))}}]),n}(a.Component),k=n(30),I=n.n(k),S=n(121),_=n(111),D=n(27),W=n(20),C=n(69),P=n(118),B=function(t){Object(p.a)(n,t);var e=Object(d.a)(n);function n(t){var r;if(Object(s.a)(this,n),console.log(t),(r=e.call(this)).id=null,r.title=null,r.group=null,r.union=r.union.bind(Object(D.a)(r)),"Ingredients"==t.group)console.log(t.idIngredient),r.id=t.idIngredient,Object(C.a)(Object(W.a)(n.prototype),"add",Object(D.a)(r)).call(Object(D.a)(r),t.strIngredient),r.title=t.strIngredient,r.group=t.group;else if("Drinks"==t.group){console.log(t.idDrink),r.id=t.idDrink;var a=1;for(r.title=t.strDrink,r.group=t.group;t["strIngredient"+a];)Object(C.a)(Object(W.a)(n.prototype),"add",Object(D.a)(r)).call(Object(D.a)(r),t["strIngredient"+a]),a+=1}return r}return Object(f.a)(n,[{key:"union",value:function(t){var e,n=new Set(this),r=Object(_.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;n.add(a)}}catch(o){r.e(o)}finally{r.f()}return n}}]),n}(Object(P.a)(Set)),T=n(218),A=n(219);var L=function(t){var e=Object(a.useState)(""),n=Object(l.a)(e,2),r=n[0],c=n[1],i=Object(a.useState)([]),u=Object(l.a)(i,2),s=u[0],f=u[1],d=function(t){c(t.target.value)};function p(t){return t.map((function(t){var e=null,n=null;return t.strDrink?(n=t.strDrink,e="Drinks"):t.strIngredient&&(n=t.strIngredient,e="Ingredients"),Object(S.a)({group:e,title:n},t)}))}return Object(a.useEffect)((function(){var t="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=".concat(r),e="https://www.thecocktaildb.com/api/json/v1/1/search.php?i=".concat(r),n=[];fetch(t).then((function(t){return t.json()})).then((function(t){if(t.drinks)return n=t.drinks,fetch(e)}),(function(t){console.log(t)})).then((function(t){return t.json()})).then((function(t){void 0!==t?t.ingredients&&(n=n.concat(t.ingredients),f(n)):f(p(n))}),(function(t){console.log(t)}))}),[r]),o.a.createElement(A.a,{id:"part-search",style:{width:300},onChange:function(e,n){var r=new B(n);t.addPart(r)},getOptionLabel:function(t){return t.title},options:p(s),groupBy:function(t){return t.group},autoComplete:!0,includeInputInList:!0,renderInput:function(t){return o.a.createElement(T.a,Object.assign({},t,{label:"Search for a cocktail or ingredient",variant:"outlined",fullWidth:!0,onChange:d}))}})},z=n(209),R=n(210),F=n(212),G=n(211),U=n(208),N=n(114),V=n.n(N),H=n(213);var J=function(t){return o.a.createElement(H.a,{item:!0,md:8},o.a.createElement("div",null,o.a.createElement(z.a,null,t.partBucket.map((function(e){return o.a.cloneElement(o.a.createElement(R.a,null,o.a.createElement(G.a,{primary:e.title,secondary:e.group}),o.a.createElement(F.a,null,o.a.createElement(U.a,{edge:"end","aria-label":"delete",onClick:function(){t.removePart(e.group,e.id)}},o.a.createElement(V.a,null)))),{title:e.title,group:e.group})})))))};function M(){var t=Object(r.a)(["\n            padding: 18px 6px 6px 6px;\n            width: 100%;\n            overflow: scroll;\n        "]);return M=function(){return t},t}function $(){var t=Object(r.a)(["\n            height: 60px;\n            width: 100%;\n            padding: 12px 6px 6px 6px;\n        "]);return $=function(){return t},t}function X(){var t=Object(r.a)(["\n            background-color: ","; \n            height: calc(100vh - 60px);\n            margin: 0!important;\n            ","\n        "]);return X=function(){return t},t}var q=function(t){Object(p.a)(n,t);var e=Object(d.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(f.a)(n,[{key:"render",value:function(){var t=h.c.div(X(),(function(t){return t.theme.fg}),""),e=h.c.div($()),n=h.c.div(M());return I.a.createElement(t,null,I.a.createElement(e,null,I.a.createElement(L,{addPart:this.props.addPart})),I.a.createElement(n,null,I.a.createElement(J,{partBucket:this.props.partBucket,setGraphData:this.props.setGraphData,removePart:this.props.removePart})))}}]),n}(k.Component),K=n(14),Q=function t(e,n){var r=this;Object(s.a)(this,t),this.graph=function(t,e){var n=r.props.graphData,a=n.links.map((function(t){return Object.create(t)})),o=n.nodes.map((function(t){return Object.create(t)})),c=r.props.setFocusedItem,i=K.a("svg").attr("viewBox",[-t/2,-e/2,t,e]).style("font","12px sans-serif"),u=K.f(o).force("link",K.d(a).id((function(t){return t.id})).distance((function(t){return 50*t.weight}))).force("charge",K.e()).force("x",K.g()).force("y",K.h()),l=i.append("g").attr("class","links").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",(function(t){return 1/t.weight*3})),s=i.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(o).join("circle").attr("r",5).attr("fill",(function(t){return r.color(t)})).call(r.drag(u)).on("mouseover",(function(t,e){K.k(this).transition().duration("50").attr("opacity","0.6"),c(t.id)})).on("mouseout",(function(t,e){K.k(this).transition().duration("50").attr("opacity","1"),c(null)})),f=i.append("g").attr("class","labels").selectAll("text").data(o).enter().append("text").attr("dx",12).attr("dy",".35em").text((function(t){return t.id}));return s.append("title").text((function(t){return t.id})),u.on("tick",(function(){l.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),s.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),f.attr("dx",(function(t){return t.x+10})).attr("dy",(function(t){return t.y+5}))})),i.node()},this.resize=function(t,e){K.k(r.container).select("svg").remove(),K.k(r.container).append((function(){return r.graph(t,e)}))},this.container=e,this.props=n;var a=n.width,o=n.height;this.drag=function(t){return K.b().on("start",(function(e){K.c.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t){t.fx=K.c.x,t.fy=K.c.y})).on("end",(function(e){K.c.active||t.alphaTarget(0),e.fx=null,e.fy=null}))},this.color=function(t){var e=K.i(K.j);return function(t){return e(t.group)}},K.k(e).append((function(){return r.graph(a,o)}))};function Y(){var t=Object(r.a)(["\n        position: absolute;\n        top: 60px;\n        left: 312px;\n        margin-top: 6px;\n        margin-left: 6px;\n        border-radius: 3px;\n        background-color: ",";\n    "]);return Y=function(){return t},t}var Z=function(t){var e=h.c.div(Y(),(function(t){return t.theme.fg}));return o.a.createElement(e,null,o.a.createElement(z.a,{dense:!0},t.suggestedItems?t.suggestedItems.map((function(t){return o.a.createElement(R.a,null,o.a.createElement(G.a,{primary:t[0],secondary:Math.round(100*t[1])/100}))})):""))},tt=n(120),et=null;var nt=Object(tt.a)(["graphVersion"])((function(t){console.log("rendered Chart",t.graphVersion);var e=Object(a.useRef)(null),n=Object(a.useState)(window.innerWidth-312),r=Object(l.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(window.innerHeight-60),s=Object(l.a)(u,2),f=s[0],d=s[1];return Object(a.useEffect)((function(){var t,e=function(){clearTimeout(t),t=setTimeout((function(){i(window.innerWidth-312),d(window.innerHeight-60)}),300)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){var n=t.graphData,r=t.setFocusedItem;if(n){var a={graphData:n,width:c,height:f,setFocusedItem:r};et=new Q(e.current,a)}}),[]),Object(a.useEffect)((function(){et&&et.resize(c,f)}),[c,f]),o.a.createElement("div",{className:"chart-container"},o.a.createElement(Z,{suggestedItems:t.suggestedItems}),o.a.createElement("div",{id:"graph-container",ref:e}))})),rt=n(214),at=n(215),ot=n(217),ct=n(216),it=n(59);function ut(){var t=Object(r.a)(["\n        position: absolute;\n        bottom: 0px;\n        right: 0px;\n        margin-bottom: 6px;\n        margin-right: 6px;\n        maxWidth: 275;\n    "]);return ut=function(){return t},t}var lt=function(t){if(!t.focusedItem)return null;var e=t.focusedItem,n=h.c.div(ut());return o.a.createElement(n,null,o.a.createElement(rt.a,null,o.a.createElement(at.a,null,o.a.createElement(ct.a,{component:"img",alt:e,image:null,title:e}),o.a.createElement(ot.a,null,o.a.createElement(it.a,{gutterBottom:!0,variant:"h5",component:"h2"},e),o.a.createElement(it.a,{variant:"body2",color:"textSecondary",component:"p"},"")))))};function st(){var t=Object(r.a)(["\n      display: grid;\n      grid-template-columns: 1fr 4fr;\n      width: 100%;\n    "]);return st=function(){return t},t}function ft(){var t=Object(r.a)(["\n      background-color: ",";\n      color: ",";\n    "]);return ft=function(){return t},t}var dt=function(){var t=Object(a.useState)(null),e=Object(l.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(1),i=Object(l.a)(c,2),s=i[0],f=i[1],d=Object(a.useState)([]),p=Object(l.a)(d,2),m=p[0],g=p[1],b=Object(a.useState)([]),v=Object(l.a)(b,2),j=v[0],O=(v[1],Object(a.useState)(null)),w=Object(l.a)(O,2),y=w[0],E=w[1];Object(a.useEffect)((function(){fetch("/api/graph").then((function(t){return t.json()})).then((function(t){r(t)}),(function(t){console.log(t)}))}),[]);var k=h.c.div(ft(),(function(t){return t.theme.bg}),(function(t){return t.theme.secondary})),I=h.c.div(st());return window.token,o.a.createElement(k,null,o.a.createElement(x,null),o.a.createElement(I,null,o.a.createElement(q,{addPart:function(t){g([].concat(Object(u.a)(m),[t]))},removePart:function(t,e){var n=m.filter((function(n){return!(n.group==t&&n.id==e)}));g(n)},partBucket:m,setGraphData:function(t){r(t),f(s+1)}}),o.a.createElement(lt,{focusedItem:y}),o.a.createElement(nt,{graphVersion:s,graphData:n,setFocusedItem:E,suggestedItems:j})))},pt={fg:"White",bg:"WhiteSmoke",primary:"Black",secondary:"DarkCyan",shadow_nav:"0px 4px 6px 0px rgba(0,0,0,0.3)",fam_open:"'Open Sans', sans-serif",fam_lato:"'Lato', sans-serif",fam_mont:"'Montserrat', sans-serif",fam_rale:"'Raleway', sans-serif",spc_0:"0",spc_1:"0.5em",spc_2:"1em",spc_3:"2em",spc_4:"3em",spc_5:"6em",link_github:"https://github.com/type9/brew-v2"},ht=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mt(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}function gt(){var t=Object(r.a)(["\n     body{\n         background-color:",";\n         margin: 0;\n         padding: 0;\n     }\n"]);return gt=function(){return t},t}var bt=Object(h.b)(gt(),pt.bg);i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(bt,null),o.a.createElement(h.a,{theme:pt},o.a.createElement(dt,null))),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/static/react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/static/react","/service-worker.js");ht?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):mt(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):mt(e,t)}))}}()}},[[152,1,2]]]);
//# sourceMappingURL=main.a69f01cf.chunk.js.map