(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{139:function(t,e,n){t.exports=n(160)},160:function(t,e,n){"use strict";n.r(e);var r=n(12),a=n(0),c=n.n(a),o=n(9),i=n.n(o),u=n(22),l=n(31),s=n(42),f=n(35),d=n(37),h=n(11);function p(){var t=Object(r.a)(["\n            margin-left: ",";\n        "]);return p=function(){return t},t}function g(){var t=Object(r.a)(["\n            border-bottom: 4px solid ",";\n        "]);return g=function(){return t},t}function m(){var t=Object(r.a)(["\n            display: inline-block;\n            line-height: calc(60px - 4px);\n            flex: 0 0 auto;\n            margin-right: ",";\n            color: ",";\n            font-family: ",";\n            font-size:$ ",";\n            cursor: pointer;\n            border-bottom: 4px solid transparent;\n\n            transition-duration:0.2s;\n            :link {\n                text-decoration: none;\n            }\n            :hover {\n                border-bottom: 4px solid ",";\n            }\n            :active {\n                border-bottom: 4px solid ",";\n            }\n        "]);return m=function(){return t},t}function b(){var t=Object(r.a)(["\n            flex: 0 0 auto;\n        "]);return b=function(){return t},t}function v(){var t=Object(r.a)(["\n            justify-content: end;\n        "]);return v=function(){return t},t}function j(){var t=Object(r.a)(["\n            justify-content: center;\n        "]);return j=function(){return t},t}function O(){var t=Object(r.a)(["\n            justify-content: start;\n        "]);return O=function(){return t},t}function w(){var t=Object(r.a)(["\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        "]);return w=function(){return t},t}function y(){var t=Object(r.a)(["\n            position: relative;\n            z-index:1;\n            width:100%;\n            background-color: ",";\n            color: ",";\n\n            box-shadow: ",";\n        "]);return y=function(){return t},t}var k=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=h.c.nav(y(),(function(t){return t.theme.fg}),(function(t){return t.theme.secondary}),(function(t){return t.theme.shadow_nav})),e=h.c.div(w()),n=Object(h.c)(e)(O()),r=Object(h.c)(e)(j()),a=Object(h.c)(e)(v()),o=Object(h.c)(e)(b()),i=h.c.a(m(),(function(t){return t.theme.spc_2}),(function(t){return t.theme.primary}),(function(t){return t.theme.fam_rale}),(function(t){return t.theme.spc_3}),(function(t){return t.theme.secondary}),(function(t){return t.theme.secondary})),u=Object(h.c)(i)(g(),(function(t){return t.theme.secondary})),l=Object(h.c)(i)(p(),(function(t){return t.theme.spc_4}));return c.a.createElement(t,null,c.a.createElement(e,null,c.a.createElement(n,null,c.a.createElement(l,null,"TWIST")),c.a.createElement(r,null,c.a.createElement(o,null,c.a.createElement(u,{href:"/"},"EXPLORE"),c.a.createElement(i,{href:"/guide"},"GUIDE"))),c.a.createElement(a,null,c.a.createElement(i,{href:"https://github.com/type9/brew-v2"},"GIT"))))}}]),n}(a.Component),E=n(28),x=n.n(E),S=n(20),D=n(210),_=n(211);n(147);var W=function(t){var e=Object(a.useState)(""),n=Object(S.a)(e,2),r=n[0],o=n[1],i=Object(a.useState)([]),u=Object(S.a)(i,2),l=u[0],s=u[1],f=function(t){o(t.target.value)};return Object(a.useEffect)((function(){console.log("inputValue Changed");var t="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=".concat(r);fetch(t).then((function(t){return t.json()})).then((function(t){s(t.drinks)}),(function(t){console.log(t)}))}),[r]),c.a.createElement(_.a,{id:"part-search",style:{width:300},onChange:function(e,n){console.log("handleSelected "+n),t.addPart(n)},getOptionLabel:function(t){return"string"===typeof t?t:t.strDrink},options:l,autoComplete:!0,includeInputInList:!0,renderInput:function(t){return c.a.createElement(D.a,Object.assign({},t,{label:"Search for a cocktail",variant:"outlined",fullWidth:!0,onChange:f}))}})},B=n(204),G=n(203),C=n(206),P=n(207),T=n(209),I=n(208),A=n(212),L=n(202),R=n(104),z=n.n(R),N=n(103),U=n.n(N),H=n(205),J=n(52),M=Object(B.a)((function(t){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:t.palette.background.paper},title:{margin:t.spacing(4,0,2)}}}));var F=function(t){M();var e,n=Object(a.useState)(!1),r=Object(S.a)(n,2),o=r[0],i=(r[1],Object(a.useState)(!1)),u=Object(S.a)(i,2),l=(u[0],u[1],Object(a.useState)(!1)),s=Object(S.a)(l,2),f=s[0];return s[1],c.a.createElement(H.a,{item:!0,xs:12,md:8},c.a.createElement(J.a,{variant:"h6"},"Currently simulating:"),c.a.createElement("div",null,c.a.createElement(G.a,{dense:o},(e=c.a.createElement(C.a,null,c.a.createElement(P.a,null,c.a.createElement(A.a,null,c.a.createElement(U.a,null))),c.a.createElement(I.a,{primary:t.name?"Secondary text":null,secondary:f?"Secondary text":null}),c.a.createElement(T.a,null,c.a.createElement(L.a,{edge:"end","aria-label":"delete"},c.a.createElement(z.a,null)))),t.partBucket.map((function(t){return c.a.cloneElement(e,{name:t.strDrink})}))))))};function $(){var t=Object(r.a)(["\n            padding: 18px 6px 6px 6px;\n            width: 100%;\n        "]);return $=function(){return t},t}function q(){var t=Object(r.a)(["\n            height: 60px;\n            width: 100%;\n            padding: 12px 6px 6px 6px;\n        "]);return q=function(){return t},t}function V(){var t=Object(r.a)(["\n            background-color: ","; \n            height: calc(100vh - 60px);\n            margin: 0!important;\n            ","\n        "]);return V=function(){return t},t}var X=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){return Object(u.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){var t=h.c.div(V(),(function(t){return t.theme.fg}),""),e=h.c.div(q()),n=h.c.div($());return x.a.createElement(t,null,x.a.createElement(e,null,x.a.createElement(W,{addPart:this.props.addPart})),x.a.createElement(n,null,x.a.createElement(F,{partBucket:this.props.partBucket,setGraphData:this.props.setGraphData})))}}]),n}(E.Component),Z=n(13),K=function t(e,n){var r=this;Object(u.a)(this,t),this.graph=function(t,e){var n=r.props.graphData,a=n.links.map((function(t){return Object.create(t)})),c=n.nodes.map((function(t){return Object.create(t)})),o=Z.a("svg").attr("viewBox",[-t/2,-e/2,t,e]),i=Z.f(c).force("link",Z.d(a).id((function(t){return t.id}))).force("charge",Z.e()).force("x",Z.g()).force("y",Z.h()),u=o.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",(function(t){return Math.sqrt(t.weight)})),l=o.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(c).join("circle").attr("r",5).attr("fill",r.color).call(r.drag(i));return l.append("title").text((function(t){return t.id})),i.on("tick",(function(){u.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),l.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y}))})),o.node()},this.resize=function(t,e){console.log(document.body.clientWidth,document.body.clientHeight),console.log("RESIZE AT ".concat(t," ").concat(e)),Z.k(r.container).select("svg").remove(),Z.k(r.container).append((function(){return r.graph(t,e)}))},this.container=e,this.props=n;var a=n.width,c=n.height;this.drag=function(t){return Z.b().on("start",(function(e){Z.c.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t){t.fx=Z.c.x,t.fy=Z.c.y})).on("end",(function(e){Z.c.active||t.alphaTarget(0),e.fx=null,e.fy=null}))},this.color=function(t){var e=Z.i(Z.j);return function(t){return e(t.group)}},console.log("[D3Graph] Rendering to "+e),Z.k(e).append((function(){return r.graph(a,c)}))},Q=null;var Y=function(t){console.log(t);var e=Object(a.useRef)(null),n=Object(a.useState)(window.innerWidth-312),r=Object(S.a)(n,2),o=r[0],i=r[1],u=Object(a.useState)(window.innerHeight-60),l=Object(S.a)(u,2),s=l[0],f=l[1];return Object(a.useEffect)((function(){var t,e=function(){clearTimeout(t),t=setTimeout((function(){i(window.innerWidth-312),f(window.innerHeight-60)}),300)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){var n=t.graphData;if(n){console.log("initializing graph with data: "),console.log(n);var r={graphData:n,width:o,height:s};Q=new K(e.current,r)}}),[]),Object(a.useEffect)((function(){Q&&Q.resize(o,s)}),[o,s]),c.a.createElement("div",{className:"chart-container"},c.a.createElement("div",{id:"graph-container",ref:e}))};function tt(){var t=Object(r.a)(["\n      display: grid;\n      grid-template-columns: 1fr 4fr;\n      width: 100%;\n    "]);return tt=function(){return t},t}function et(){var t=Object(r.a)(["\n      background-color: ",";\n      color: ",";\n    "]);return et=function(){return t},t}var nt=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).setGraphData=r.setGraphData.bind(Object(s.a)(r)),r.addPart=r.addPart.bind(Object(s.a)(r)),r.state={graphData:null,partBucket:[]},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/api/graph").then((function(t){return t.json()})).then((function(e){t.setState({graphData:e})}),(function(t){console.log(t)}))}},{key:"updateGraph",value:function(){var t=this;if(console.log(this.state.partBucket),0!==this.state.partBucket.length){console.log("Fetching subgraph");var e=[];this.state.partBucket.map((function(t){console.log(t);for(var n=1;t["strIngredient"+n];)e.push(t["strIngredient"+n]),n+=1}));var n={nodes:e};console.log(n),fetch("/api/subgraph",{method:"POST",body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(e){t.setGraphData(e)}))}else console.log("No data to update")}},{key:"setGraphData",value:function(t){this.setState({graphData:t})}},{key:"addPart",value:function(t){var e=this.state.partBucket.concat([t]);this.setState({partBucket:e},this.updateGraph)}},{key:"render",value:function(){var t=h.c.div(et(),(function(t){return t.theme.bg}),(function(t){return t.theme.secondary})),e=h.c.div(tt());window.token;return c.a.createElement(t,null,c.a.createElement(k,null),c.a.createElement(e,null,c.a.createElement(X,{addPart:this.addPart,partBucket:this.state.partBucket,setGraphData:this.setGraphData}),c.a.createElement(Y,{graphData:this.state.graphData})))}}]),n}(a.Component),rt={fg:"White",bg:"WhiteSmoke",primary:"Black",secondary:"DarkCyan",shadow_nav:"0px 4px 6px 0px rgba(0,0,0,0.3)",fam_open:"'Open Sans', sans-serif",fam_lato:"'Lato', sans-serif",fam_mont:"'Montserrat', sans-serif",fam_rale:"'Raleway', sans-serif",spc_0:"0",spc_1:"0.5em",spc_2:"1em",spc_3:"2em",spc_4:"3em",spc_5:"6em",link_github:"https://github.com/type9/brew-v2"},at=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ct(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}function ot(){var t=Object(r.a)(["\n     body{\n         background-color:",";\n         margin: 0;\n         padding: 0;\n     }\n"]);return ot=function(){return t},t}var it=Object(h.b)(ot(),rt.bg);i.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(it,null),c.a.createElement(h.a,{theme:rt},c.a.createElement(nt,null))),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/static/react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/static/react","/service-worker.js");at?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):ct(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ct(e,t)}))}}()}},[[139,1,2]]]);
//# sourceMappingURL=main.130cb6bc.chunk.js.map